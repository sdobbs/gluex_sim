<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HDDS [

  <!ENTITY Regions_s SYSTEM "Regions.xml">
  <!ENTITY Material_s SYSTEM "Materials.xml">
  <!ENTITY PhotonPipe_s SYSTEM "PhotonPipe.xml"> 
  <!ENTITY Spectrometer_s SYSTEM "Spectrometer.xml">
  <!ENTITY FocalPlane_s SYSTEM "FocalPlane.xml">
  <!ENTITY ElectronDump_s SYSTEM "ElectronDump.xml">

]>

<HDDS specification="v1.0" xmlns="http://www.gluex.org/hdds"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.gluex.org/hdds 
          http://zeus.phys.uconn.edu/halld/schemas/HDDS-1_0.xsd">

<!-- Include materials -->
     &Material_s;

<!-- Include magnetic fields -->
     &Regions_s;

<!-- Include spec files -->
     &PhotonPipe_s;
     &Spectrometer_s;
     &FocalPlane_s;
     &ElectronDump_s;
<!-- End of include    -->


<!-- GlueX Tagging Spectrometer Specification : top volume
     ******************************************************
-->
<section name        = "GlueXTagger"
         version     = "1.1"
         date        = "2005-01-25"
         author      = "R.T. Jones"
         top_volume  = "AREA"
         specification = "v1.0">

<!-- The master coordinate system for the geometry is as follows:
       1. the y axis points vertically up
       2. the z axis is coincident with the nominal electron beam
          direction at the crystal (horizontal by design) and points
          along the direction of electron beam motion.
       3. the x axis is defined by the requirement that x,y,z form
          a right-handed coordinate system.
      The origin is the intersection of the electron beam axis with
      the crystal plane at the goniometer.                           -->





  <composition name="everything" envelope="HILL">
      <posXYZ volume="FieldVolume" X_Y_Z="0.0 0.0 0.0" />
  </composition>


  <box name="HILL" X_Y_Z="10000. 10000. 10000." material="Air"
       				comment="master volume for description" /> 


  <box name="AREA" X_Y_Z="9000. 9000. 9000." material="Air"
       				comment="main tagger enclosure">
    <apply region="taggerBfield" origin="0.0  0.0  0.0" />
  </box>



  <composition name="FieldVolume" envelope="AREA">

      <posXYZ volume="HallWalls" X_Y_Z="0.0 45.0 0.0" />

      <posXYZ volume="ASEG" X_Y_Z="-499. 45.0  1134.1" />

      <posXYZ volume="goniometer" X_Y_Z="0.0 0.0 0.0" />
      <posXYZ volume="quadAssembly" X_Y_Z="0.0 0.0 83.2374" />
      <posXYZ volume="dipAssembly" X_Y_Z="-2.455685  0.0  632.2844"
                                   rot="0 -6.500 0" unit_angle="deg" /> 

       <posXYZ volume="electronBeamPipe" X_Y_Z="-279.570866  0.0  1806.615686"
                                   rot="0 -13.4 0" unit_angle="deg" /> 


      <posXYZ volume="DET7Comp" X_Y_Z="-129.05453  0.0  836.89"
                                   rot="0 -8.05 0" unit_angle="deg" /> 

      <posXYZ volume="electronDump"  X_Y_Z="-458.44206  45.0  2557.438372" rot="0  -13.4  0" unit_angle="deg"/> 

  </composition> 


<!-- ====== Tagger Hall Walls ====== -->

  <composition name="HallWalls">
        <posXYZ volume="HNWL" X_Y_Z=" 450.0     0.0   1145.5" /> 
        <posXYZ volume="HSWL" X_Y_Z="-665.5674  0.0   561.18301" />
 
        <posXYZ volume="HEWL" X_Y_Z=" 60.3002    0.0   2676.0  " />
        <posXYZ volume="HWWL" X_Y_Z=" -107.7837  0.0   -385.  " />

        <posXYZ volume="HFLR" X_Y_Z=" -250. -375.  1500." />  
        <posXYZ volume="HROF" X_Y_Z=" -250.  375.  1500." />  
  </composition>


  <box name="HNWL" X_Y_Z="300.0  450.0  3361.0" material="Concrete"
       				comment="North Wall" />

  <box name="HSWL" X_Y_Z="300.0  450.0  2192.366027" material="Concrete"
       				comment="South Wall" />

  <box name="HEWL" X_Y_Z="479.3996  450.0  300." material="Concrete"
       				comment="East Wall" />

  <box name="HWWL" X_Y_Z="815.5674  450.0  300.0" material="Concrete"
                                comment="West Wall" />

  <box name="HFLR" X_Y_Z="2100.0  300.0  5000.0" material="Concrete"
       				comment="Floor" />

  <box name="HROF" X_Y_Z="2100.0  300.0  5000.0" material="Concrete"
       				comment="Roof" />


  <box name="ASEG" X_Y_Z="33.02  450.00  1046.48" material="Iron"
                                 comment="SEG blocks in the AREA"/>



<!-- ====== Goniometer ====== -->

  <composition name="goniometer" envelope="GONI">
    <posXYZ volume="GOBX" />
    <posXYZ volume="GOBE" X_Y_Z="0 0 -29.7"/>
    <posXYZ volume="GOBE" X_Y_Z="0 0 +29.7"/>
    <posXYZ volume="XTAL" X_Y_Z="0 0 10e-4"/>
    <posXYZ volume="XFRA" X_Y_Z="0 0 10e-4"/> 
  </composition>



  <box name="GONI" X_Y_Z="60 60 60" material="TaggerVacuum"
                                 comment="goniometer vacuum box"/>

  <pgon name="GOBX" segments="4" profile="-45 360" material="Iron"
                                 comment="goniometer vacuum box sides">
    <polyplane Rio_Z="29.4 30.0 -30.0"/>
    <polyplane Rio_Z="29.4 30.0 +30.0"/>
  </pgon>

  <pgon name="GOBE" segments="4" profile="-45 360" material="Iron"
                                 comment="goniometer vacuum box ends">
    <polyplane Rio_Z="2.0 30.0 -0.3"/>
    <polyplane Rio_Z="2.0 30.0 +0.3"/>
  </pgon>



  <box name="XTAL" X_Y_Z="0.5 0.5 20e-4" material="Diamond" sensitive="true"
                                        comment="goniometer crystal"/> 


<!-- 
  <box name="XTAL" X_Y_Z="0.5 0.5 20e-4" material="Vacuum" sensitive="true"
                                        comment="goniometer crystal"/> 
-->


  <pgon name="XFRA" segments="4" profile="-45 360" material="Aluminum"
                                 comment="goniometer crystal mount">
    <polyplane Rio_Z="0.75 1.5 0.0"/>
    <polyplane Rio_Z="0.75 1.5 0.3"/>
  </pgon>



<!-- ====== electronBeamPipe.  5 + 1 = 6 inches pipe. Shift by 2 inches. 1.5 mm thick. d_offset = 150 cm ====== -->
  <composition name="electronBeamPipe">
   <posXYZ volume="beamPipeAREA" X_Y_Z="-5.08 0.0 0.0" />
  </composition>


 <composition name="beamPipeAREA" envelope="BPAO">
    <posXYZ volume="BPAI" X_Y_Z="0 0 0"/>
  </composition>

  <box name="BPAO" X_Y_Z="15.54  5.38  977.250453" material="Iron"
                                 comment="electron pipe AREA"/> 

  <box name="BPAI" X_Y_Z="15.24  5.08  977.250453" material="TaggerVacuum"
                                 comment="electron pipe AREA inner part"/>




</section>
</HDDS>
